<div class="d-flex flex-column vh-100 bg-dark text-white" style="margin-top: 80px;">
    <!-- Header -->
    <header class="bg-success d-flex align-items-center fixed-top  justify-content-between px-3 py-2 shadow-lg border-bottom " style="height: 80px;" >
        <!-- Sidebar Toggle Button -->
        <div class="d-flex align-items-center gap-3">
            <button
                class="btn bg-success text-white btn-sm rounded-circle shadow-sm"
                (click)="toggleSidebar()"
                style="width: 40px; height: 40px;"
                onmouseover="this.style.backgroundColor='#006400'" 
                onmouseout="this.style.backgroundColor='#28a745'"
            >
                <i class="bi bi-list fs-5"></i>
            </button>

            <div class="d-flex align-items-center">
                <img
                src="https://netstorage.ringcentral.com/appext/logo/7gufiGT3T3CCuCP37hMDaQ~GB48swpGSoyDYxiMFv2dAw/e4c88859-70e3-468c-821d-15aebb1bfe89.png"
                alt="Logo"
                class="rounded-circle shadow-sm me-2"
                style="width: 40px; height: 40px;" />
                <h1 class="h6 mb-0 fs-5 fw-bold">CRM Dashboard</h1>
            </div>
        
        </div>

        <!-- Logo and Title -->
        

        <!-- Current Time and User Info -->
        <div class="d-flex align-items-center gap-4">
            <!-- Current Time -->
            <div class="text-white ">{{ currentTime }}</div>

            <!-- User Info and Dropdown -->
            <div class="dropdown">
                <button
                    class="btn btn-success d-flex align-items-center"
                    type="button"
                    id="profileMenu"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                >
                    <i class="bi bi-person-circle me-2"></i> John Doe
                </button>
                <ul class="dropdown-menu dropdown-menu-end text-dark" aria-labelledby="profileMenu">
                    <li><a class="dropdown-item" href="#">Profile</a></li>
                    <li><a class="dropdown-item" href="#">Settings</a></li>
                    <li>
                        <button class="dropdown-item text-danger" (click)="logout()">Logout</button>
                    </li>
                </ul>
            </div>
        </div>
    </header>

    <div class="d-flex flex-grow-1 fixed">
        <!-- Sidebar -->
        <div
            [ngClass]="{ 'col-2': isSidebarOpen, 'col-auto': !isSidebarOpen }"
            class="bg-success p-3 transition-all"
        >
            <!-- <div *ngIf="isSidebarOpen" class="d-flex align-items-center mb-4">
                <img
                    src="https://netstorage.ringcentral.com/appext/logo/7gufiGT3T3CCuCP37hMDaQ~GB48swpGSoyDYxiMFv2dAw/e4c88859-70e3-468c-821d-15aebb1bfe89.png"
                    alt="Logo"
                    class="rounded-circle shadow-sm me-2"
                    style="width: 50px; height: 50px;"
                />
                <span class="h6 mb-0 fw-bold">CRM Webtool</span>
            </div> -->

            <!-- Sidebar Menu -->
            <nav>
                <ul class="list-unstyled">
                    <li class="mb-3">
                        <a
                            href="#"
                            class="d-flex align-items-center text-white p-2 rounded hover-bg-light"
                            [ngClass]="{ 'justify-content-center': !isSidebarOpen }"
                        >
                            <i class="bi bi-house-door fs-5"></i>
                            <span *ngIf="isSidebarOpen" class="ms-3">Dashboard</span>
                        </a>
                    </li>
                    <li class="mb-3">
                        <a
                            href="#"
                            class="d-flex align-items-center text-white p-2 rounded hover-bg-light"
                            [ngClass]="{ 'justify-content-center': !isSidebarOpen }"
                        >
                            <i class="bi bi-person fs-5"></i>
                            <span *ngIf="isSidebarOpen" class="ms-3">Clients</span>
                        </a>
                    </li>
                  
                    <li class="mb-3">
                        <a 
                            routerLink="/crm-leads"
                            class="d-flex align-items-center text-white p-2 rounded hover-bg-light"
                            [routerLinkActive]="'active'"
                            [ngClass]="{ 'justify-content-center': !isSidebarOpen }"
                        >
                            <i class="bi bi-person-lines-fill fs-5"></i>
                            <span *ngIf="isSidebarOpen" class="ms-3">Leads</span>
                        </a>
                    </li>
                    
                    <li class="mb-3">
                        <a
                           routerLink="crm-reports"
                        routerLinkActive="active"
                            class="d-flex align-items-center text-white p-2 rounded hover-bg-light"
                            [ngClass]="{ 'justify-content-center': !isSidebarOpen }" >
                            <i class="bi bi-bar-chart fs-5"></i>
                            <span *ngIf="isSidebarOpen" class="ms-3">Reports</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="flex-grow-1 p-4 bg-light text-dark ">
            <router-outlet></router-outlet>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-success text-white text-center py-2">
        &copy; 2025 CRM Dashboard. All rights reserved.
    </footer>
</div>
